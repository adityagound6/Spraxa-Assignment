@using AssignmentSpraxa.Portal.DTO
@model UserDto

@{
    ViewData["Title"] = "User Details";
    bool isAdmin = User.IsInRole("Admin");
}

<div class="main-contain-data">
    <h2>User Details</h2>
    @{
        if (isAdmin)
        {
            <a class="btn btn-primary" asp-action="Edit" asp-controller="User" asp-route-id="Model.Id">
                <i class="fas fa-plus"></i> Edit User
            </a>
        }
    }
    <form id="userForm">

        <input type="hidden" asp-for="Id" />
        <div class="form-group mb-2">
            <label asp-for="Fullname">Full name</label>
            <input asp-for="Fullname" class="form-control" disabled />
        </div>

        <div class="form-group mb-2">
            <label asp-for="Username">Username</label>
            <input asp-for="Username" class="form-control" disabled />
        </div>

        <div class="form-group mb-2">
            <label asp-for="Email">Email</label>
            <input asp-for="Email" class="form-control" disabled />
        </div>

        <div class="form-group mb-2">
            <label asp-for="PhoneNumber">Phone Number</label>
            <input asp-for="PhoneNumber" class="form-control" disabled />
        </div>

        <div class="form-group mb-2">
            <label>Roles</label>
            <input class="form-control"
                   value="@(Model.Roles != null ? string.Join(", ", Model.Roles) : "No roles")"
                   disabled />
        </div>

        <br />

        <a asp-action="Index" class="btn btn-secondary">Back</a>
    </form>
</div>

<script>
    $(document).ready(function () {
        $("#userForm input").attr("disabled", true);
    });
</script>
